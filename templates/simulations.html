{% extends 'base.html' %}

{% block body %}
<br>
<style>
h1 {text-align: center;}
h3 {text-align: center;}
p {text-align: center;}

table.center {
  margin-left: auto;
  margin-right: auto;
  vertical-align: middle;
}
</style>
<p>All simulations are ran using each team's optimal lineup</p>
<h1>{{ week }} Betting Table</h1>
<div class="tscroll" style="overflow-x:auto;">
    <table class="table table-hover center content-table betting" style="table-layout:auto; width:40%">
        <caption><i>Updated: {{ tstamp_bets }}</i></caption>
        <thead>
            <tr>
                {% for header in headings_bets %}
                    <th>{{ header }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
        {% for row in data_bets %}
            <tr>
                {% for cell in row %}
                    <td>{{ cell|safe }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<br>
<h1>Season Simulation Results</h1>
<h3>Projected Standings</h3>
<div class="tscroll" style="overflow-x:auto;">
    <table class="table table-hover center content-table standings" style="table-layout:auto; width:40%">
        <caption><i>Updated: {{ tstamp_s }}</i></caption>
        <thead>
            <tr>
                {% for header in headings_s %}
                    <th>{{ header }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
        {% for row in data_s %}
            <tr>
                {% for cell in row %}
                    <td>{{ cell }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<br>
<h3>Rank Distribution</h3>
<p>Percentage of simulations where team finished in <i>nth</i> place</p>
<div class="tscroll" style="overflow-x:auto;">
    <table class="table table-hover center content-table vert" style="table-layout:auto; width:60%">
        <thead>
            <tr>
                {% for header in headings_r %}
                    <th>{{ header }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
        {% for row in data_r %}
            <tr>
                {% for cell in row %}
                    <td style="{% if cell is number %}background-color: rgba(255, 0, 0, {{ cell }});{% endif %}">
                        {% if cell is number and cell > 0 %}
                            {{ cell|int }}%
                        {% elif cell == 0 %}
                            {{ '' }}
                        {% else %}
                            {{ cell }}
                        {% endif %}
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<br>
<h3>Wins Distribution</h3>
<p>Percentage of simulations where team finished with <i>n</i> wins</p>
<div class="tscroll" style="overflow-x:auto;">
    <table class="table table-hover center content-table vert" style="table-layout:auto; width:70%">
        <thead>
            <tr>
                {% for header in headings_w %}
                    <th>{{ header }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
        {% for row in data_w %}
            <tr>
                {% for cell in row %}
                    <td style="{% if cell is number %}background-color: rgba(255, 0, 0, {{ cell }});{% endif %}">
                        {% if cell is number and cell > 0 %}
                            {{ cell|int }}%
                        {% elif cell == 0 %}
                            {{ '' }}
                        {% else %}
                            {{ cell }}
                        {% endif %}
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}